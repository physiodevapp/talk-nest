<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/styles.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Physiodevapp Access</title>
</head>

<body class="access min-h-screen flex items-center justify-center">
  <main class="relative border-4 border-dashed border-white rounded-[2em] flex flex-col justify-center md:max-w-sm shadow-lg p-8">
    <div class="absolute top-0 left-0 w-full h-full -z-10 backdrop-blur-sm"></div>
    <!-- Title -->
    <h2 class="text-center text-[2.4em] text-white mb-6">
      <% if (formType === 'login') { %> Login <% } %>
      <% if (formType === 'register') { %> Register <% } %>
      <% if (formType === 'forgot') { %> Forgot Password <% } %>
    </h2>

    <!-- Form -->
    <% if (formType === 'login') { %>
    <form class="space-y-4" action="/login" method="POST">
      <!-- Username -->
      <div class="relative">
        <input type="text" name="username" placeholder="Username"
          class="w-full px-4 py-3 text-sm text-gray-700 bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-[#0a7b67] shadow" />
      </div>

      <!-- Password -->
      <div>
        <input type="password" name="password" placeholder="Password"
          class="w-full px-4 py-3 text-sm text-gray-700 bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-[#0a7b67] shadow" />
      </div>

      <!-- Login Button -->
      <button type="submit"
        class="w-full bg-[#8b45f7] text-white font-semibold py-3 rounded-full shadow hover:opacity-90 transition">
        Login
      </button>

      <% if (typeof error !== 'undefined') { %>
        <p style="color: red;"><%= error %></p>
      <% } %>
    </form>
    <% } %>

    <% if (formType === 'register') { %>
    <form class="space-y-4" method="POST" action="/register">
      <!-- Username -->
      <div class="relative">
        <input type="text" name="username" placeholder="Username"
          class="w-full px-4 py-3 text-sm text-gray-700 bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-[#0a7b67] shadow" />
      </div>

      <!-- Email -->
      <div class="relative">
        <input type="email" name="email" placeholder="Email"
          class="w-full px-4 py-3 text-sm text-gray-700 bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-[#0a7b67] shadow" />
      </div>

      <!-- Password -->
      <div>
        <input type="password" name="password" placeholder="Password"
          class="w-full px-4 py-3 text-sm text-gray-700 bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-[#0a7b67] shadow" />
      </div>

      <!-- Register Button -->
      <button type="submit"
        class="w-full bg-[#8b45f7] text-white font-semibold py-3 rounded-full shadow hover:opacity-90 transition">
        Register
      </button>
    </form>
    <% } %>

    <% if (formType !== 'forgot') { %>
      <!-- Divider -->
      <div class="flex items-center mt-6">
        <hr class="flex-grow border-white">
        <span class="mx-4 text-white text-[1.8em] semibold">or <%= formType === 'login' ? 'login' : 'sign up' %> with</span>
        <hr class="flex-grow border-white">
      </div>

      <!-- Social Login Buttons -->
      <div class="flex space-x-4 mt-4">
        <button class="flex-grow bg-blue-600 text-white py-3 rounded-full shadow hover:opacity-90 transition flex justify-center items-center gap-4 font-semibold text-[1.4em]">
          Google
          <img src="/images/chrome.png" alt="" srcset="" class="max-w-full h-auto max-h-[1.6em]">
        </button>
      </div>

      <% if(formType === 'login') { %>
        <p class="flex items-center mt-6 justify-center text-white"><a class="font-bold text-[1.4em]" href="/access?formType=register">Create an account here</a></p>
      <% } else { %>
        <p class="flex items-center mt-6 justify-center text-white text-[1.4em]">Have an account? <span class="ml-2"></span><a class="font-bold" href="/access?formType=login">Log in here</a></p>
      <% } %>
    <% } %>

    <% if (formType === 'forgot') { %>
    <form class="space-y-4">
      <!-- Email -->
      <div class="relative">
        <input type="email" placeholder="Enter your email"
          class="w-full px-4 py-3 text-sm text-gray-700 bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-[#0a7b67] shadow" />
      </div>

      <!-- Submit Button -->
      <button type="submit"
        class="w-full bg-[#8b45f7] text-white font-semibold py-3 rounded-full shadow hover:opacity-90 transition">
        Send Reset Link
      </button>
    </form>
    <% } %>
  </div>
</body>

</html>
